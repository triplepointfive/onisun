!function(t){function i(i){for(var e,o,a=i[0],n=i[1],l=i[2],u=0,d=[];u<a.length;u++)o=a[u],r[o]&&d.push(r[o][0]),r[o]=0;for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);for(c&&c(i);d.length;)d.shift()();return h.push.apply(h,l||[]),s()}function s(){for(var t,i=0;i<h.length;i++){for(var s=h[i],e=!0,a=1;a<s.length;a++){var n=s[a];0!==r[n]&&(e=!1)}e&&(h.splice(i--,1),t=o(o.s=s[0]))}return t}var e={},r={1:0};var h=[];function o(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=e,o.d=function(t,i,s){o.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:s})},o.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},o.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(i,"a",i),i},o.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},o.p="/onisun/";var a=window.webpackJsonp=window.webpackJsonp||[],n=a.push.bind(a);a.push=i,a=a.slice();for(var l=0;l<a.length;l++)i(a[l]);var c=n;h.push([39,0]),s()}({12:function(t,i,s){"use strict";s.r(i);var e=s(1),r=e.a.extend({props:["cell","player"],computed:{style(){return this.player?"player":this.cell.isWall()?"wall":this.cell.isDoor()?"door":"floor"},symbol(){return this.player?"俺":" "==this.cell.display?"・":"+"==this.cell.display?"戸":"#"==this.cell.display?"＃":"E"}}}),h=s(3);var o=function(t){s(33)},a=Object(h.a)(r,function(){var t=this,i=t.$createElement;return(t._self._c||i)("td",{class:t.style,domProps:{textContent:t._s(t.symbol)},on:{click:function(i){t.$emit("setPosition")}}})},[],!1,o,null,null).exports;class n{constructor(t,i,s,e,r,h,o){this.ch=t,this.r=i,this.g=s,this.b=e,this.br=r,this.bg=h,this.bb=o}getChar(){return this.ch}setChar(t){this.ch=t}setColor(t,i,s){this.r=t,this.g=i,this.b=s}setGrey(t){this.r=t,this.g=t,this.b=t}setBackground(t,i,s){this.br=t,this.bg=i,this.bb=s}backgroundToColor(){this.r=this.br,this.g=this.bg,this.b=this.bb}swapColors(){this.r=[this.br,this.br=this.r][0],this.g=[this.bg,this.bg=this.g][0],this.b=[this.bb,this.bb=this.b][0]}resetColor(){this.r=this.g=this.b=void 0}resetBackground(){this.br=this.bg=this.bb=void 0}getColorHex(){return void 0!==this.r&&void 0!==this.g&&void 0!==this.b?"#"+this.r.toString(16)+this.g.toString(16)+this.b.toString(16):""}getBackgroundHex(){return void 0!==this.br&&void 0!==this.bg&&void 0!==this.bb?"#"+this.br.toString(16)+this.bg.toString(16)+this.bb.toString(16):""}getColorRGB(){return void 0!==this.r&&void 0!==this.g&&void 0!==this.b?`rgb(${this.r},${this.g},${this.b})`:""}getBackgroundRGB(){return void 0!==this.br&&void 0!==this.bg&&void 0!==this.bb?`rgb(${this.br},${this.bg},${this.bb})`:""}getColorJSON(){return void 0!==this.r&&void 0!==this.g&&void 0!==this.b?{r:this.r,g:this.g,b:this.b}:{}}getBackgroundJSON(){return void 0!==this.r&&void 0!==this.g&&void 0!==this.b?{r:this.br,g:this.bg,b:this.bb}:{}}copy(t){this.ch=t.ch,this.r=t.r,this.g=t.g,this.b=t.b,this.br=t.br,this.bg=t.bg,this.bb=t.bb}clone(){return new n(this.ch,this.r,this.g,this.b,this.br,this.bg,this.bb)}}const l="unicodetiles",c=new n(" ");const u="\nattribute vec2 position;\nattribute vec2 texCoord;\nattribute vec3 color;\nattribute vec3 bgColor;\nattribute float charIndex;\nuniform vec2 uResolution;\nuniform vec2 uTileCounts;\nuniform vec2 uPadding;\nvarying vec2 vTexCoord;\nvarying vec3 vColor;\nvarying vec3 vBgColor;\n\nvoid main() {\n  vec2 tileCoords = floor(vec2(mod(charIndex, uTileCounts.x), charIndex / uTileCounts.x));\n  vTexCoord = (texCoord + tileCoords) / uTileCounts;\n  vTexCoord += (0.5 - texCoord) * uPadding;\n  vColor = color;\n  vBgColor = bgColor;\n  vec2 pos = position / uResolution * 2.0 - 1.0;\n  gl_Position = vec4(pos.x, -pos.y, 0.0, 1.0);\n}\n",d="\nprecision mediump float;\nuniform sampler2D uFont;\nvarying vec2 vTexCoord;\nvarying vec3 vColor;\nvarying vec3 vBgColor;\n\nvoid main() {\n  vec4 color = texture2D(uFont, vTexCoord);\n  color.rgb = mix(vBgColor, vColor, color.rgb);\n  gl_FragColor = color;\n}\n";const g=function(t){return new class{constructor(t){if(this.view=t,this.view=t,this.canvas=document.createElement("canvas"),!this.canvas.getContext)throw"Canvas not supported";if(this.gl=this.canvas.getContext("experimental-webgl"),!this.gl)throw"WebGL not supported";if(t.elem.appendChild(this.canvas),this.charMap={},this.charArray=[],this.defaultColors={r:1,g:1,b:1,br:0,bg:0,bb:0},this.attribs={position:{buffer:null,data:null,itemSize:2,location:null,hint:this.gl.STATIC_DRAW},texCoord:{buffer:null,data:null,itemSize:2,location:null,hint:this.gl.STATIC_DRAW},color:{buffer:null,data:null,itemSize:3,location:null,hint:this.gl.DYNAMIC_DRAW},bgColor:{buffer:null,data:null,itemSize:3,location:null,hint:this.gl.DYNAMIC_DRAW},charIndex:{buffer:null,data:null,itemSize:1,location:null,hint:this.gl.DYNAMIC_DRAW}},this.offscreen||(this.offscreen=document.createElement("canvas")),this.offscreen.style.position="absolute",this.offscreen.style.top="0px",this.offscreen.style.left="0px",this.ctx=this.offscreen.getContext("2d"),!this.ctx)throw"Failed to acquire offscreen canvas drawing context";this.updateStyle(),this.canvas.width=(t.squarify?this.th:this.tw)*t.w,this.canvas.height=this.th*t.h,this.offscreen.width=0,this.offscreen.height=0,this.updateStyle(),this.gl.viewport(0,0,this.canvas.width,this.canvas.height);let i=this.compileShader(this.gl.VERTEX_SHADER,u),s=this.compileShader(this.gl.FRAGMENT_SHADER,d),e=this.gl.createProgram();if(this.gl.attachShader(e,i),this.gl.attachShader(e,s),this.gl.linkProgram(e),this.gl.deleteShader(i),this.gl.deleteShader(s),!this.gl.getProgramParameter(e,this.gl.LINK_STATUS)){const t=`Error linking program: ${this.gl.getProgramInfoLog(e)}`;throw this.gl.deleteProgram(e),t}this.gl.useProgram(e),this.attribs.position.location=this.gl.getAttribLocation(e,"position"),this.attribs.texCoord.location=this.gl.getAttribLocation(e,"texCoord"),this.attribs.color.location=this.gl.getAttribLocation(e,"color"),this.attribs.bgColor.location=this.gl.getAttribLocation(e,"bgColor"),this.attribs.charIndex.location=this.gl.getAttribLocation(e,"charIndex"),this.initBuffers();let r=this.gl.getUniformLocation(e,"uResolution");this.gl.uniform2f(r,this.canvas.width,this.canvas.height),this.tileCountsLocation=this.gl.getUniformLocation(e,"uTileCounts"),this.gl.uniform2f(this.tileCountsLocation,this.view.w,this.view.h),this.paddingLocation=this.gl.getUniformLocation(e,"uPadding"),this.gl.uniform2f(this.paddingLocation,0,0);let h=this.gl.createTexture();this.gl.bindTexture(this.gl.TEXTURE_2D,h),this.cacheChars(" !\"#$%&'()*+,-./0123456789:<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.activeTexture(this.gl.TEXTURE0),setTimeout(()=>{this.updateStyle(),this.buildTexture(),this.render()},100)}getRendererString(){return"webgl"}buildTexture(){let t=this.offscreen.width/(this.tw+this.pad),i=this.offscreen.height/(this.th+this.pad);const s=this.charArray.length;s>Math.floor(t)*Math.floor(i)&&(i=(t=Math.ceil(Math.sqrt(s)))+2,this.offscreen.width=t*(this.tw+this.pad),this.offscreen.height=i*(this.th+this.pad),this.updateStyle(),this.gl.uniform2f(this.tileCountsLocation,t,i)),this.gl.uniform2f(this.paddingLocation,this.pad/this.offscreen.width,this.pad/this.offscreen.height);let e,r=0;this.ctx.fillStyle="#000000",this.ctx.fillRect(0,0,this.offscreen.width,this.offscreen.height),this.ctx.fillStyle="#ffffff";const h=.5*this.gap,o=this.tw+this.pad,a=this.th+this.pad;let n=.5*a;for(let s=0;s<i;++s){let i=.5*this.pad;for(let s=0;s<t&&void 0!==(e=this.charArray[r]);++s,++r)this.ctx.fillText(e,i+h,n),i+=o;if(!e)break;n+=a}this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.offscreen)}cacheChars(t,i=!0){if(!this.gl)return;let s=!1;for(let i=0;i<t.length;++i)this.charMap[t[i]]||(s=!0,this.charArray.push(t[i]),this.charMap[t[i]]=this.charArray.length-1);s&&i&&this.buildTexture()}updateStyle(t){t=t||window.getComputedStyle(this.view.elem,null),this.ctx.font=t.fontSize+"/"+t.lineHeight+" "+t.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="#ffffff",this.tw=this.ctx.measureText("幅").width,this.th=parseInt(t.fontSize,10),this.gap=this.view.squarify?this.th-this.tw:0,this.view.squarify&&(this.tw=this.th),this.pad=2*Math.ceil(.2*this.th);const i=t.color.match(/\d+/g),s=t.backgroundColor.match(/\d+/g);this.defaultColors.r=parseInt(i[0],10)/255,this.defaultColors.g=parseInt(i[1],10)/255,this.defaultColors.b=parseInt(i[2],10)/255,this.defaultColors.br=parseInt(s[0],10)/255,this.defaultColors.bg=parseInt(s[1],10)/255,this.defaultColors.bb=parseInt(s[2],10)/255}clear(){}render(){this.gl.clear(this.gl.COLOR_BUFFER_BIT);const t=this.view.w,i=this.view.h;let s=this.view.buffer,e=(this.view.defaultColor,this.view.defaultBackground,!1);for(let r=0;r<i;++r)for(let i=0;i<t;++i){const h=s[r][i];let o=this.charMap[h.ch];void 0===o&&(this.cacheChars(h.ch,!1),e=!0,o=this.charMap[h.ch]);const a=6*this.attribs.color.itemSize*(r*t+i),n=6*this.attribs.charIndex.itemSize*(r*t+i),l=void 0===h.r?this.defaultColors.r:h.r/255,c=void 0===h.g?this.defaultColors.g:h.g/255,u=void 0===h.b?this.defaultColors.b:h.b/255,d=void 0===h.br?this.defaultColors.br:h.br/255,g=void 0===h.bg?this.defaultColors.bg:h.bg/255,p=void 0===h.bb?this.defaultColors.bb:h.bb/255;for(let t=0;t<6;++t){const i=a+t*this.attribs.color.itemSize;this.attribs.color.data[i+0]=l,this.attribs.color.data[i+1]=c,this.attribs.color.data[i+2]=u,this.attribs.bgColor.data[i+0]=d,this.attribs.bgColor.data[i+1]=g,this.attribs.bgColor.data[i+2]=p,this.attribs.charIndex.data[n+t]=o}}e&&this.buildTexture(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.attribs.color.buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.attribs.color.data,this.attribs.color.hint),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.attribs.bgColor.buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.attribs.bgColor.data,this.attribs.bgColor.hint),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.attribs.charIndex.buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.attribs.charIndex.data,this.attribs.charIndex.hint);const r=this.attribs.position;this.gl.drawArrays(this.gl.TRIANGLES,0,r.data.length/r.itemSize)}compileShader(t,i){const s=this.gl.createShader(t);if(this.gl.shaderSource(s,i),this.gl.compileShader(s),!this.gl.getShaderParameter(s,this.gl.COMPILE_STATUS)){const t="Error compiling shader: "+this.gl.getShaderInfoLog(s);throw this.gl.deleteShader(s),t}return s}initBuffers(){let t,i,s=this.attribs;const e=this.view.w,r=this.view.h;for(t in this.attribs)(i=s[t]).data=new Float32Array(6*i.itemSize*e*r);for(let t=0;t<r;++t)for(let i=0;i<e;++i){const r=6*s.position.itemSize*(t*e+i);this.insertQuad(s.position.data,r,i*this.tw,t*this.th,this.tw,this.th),this.insertQuad(s.texCoord.data,r,0,0,1,1)}for(t in this.attribs)(i=s[t]).buffer&&this.gl.deleteBuffer(i.buffer),i.buffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,i.buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,i.data,i.hint),this.gl.enableVertexAttribArray(i.location),this.gl.vertexAttribPointer(i.location,i.itemSize,this.gl.FLOAT,!1,0,0)}insertQuad(t,i,s,e,r,h){const o=s,a=e,n=s+r,l=e+h;t[i]=o,t[++i]=a,t[++i]=n,t[++i]=a,t[++i]=o,t[++i]=l,t[++i]=o,t[++i]=l,t[++i]=n,t[++i]=a,t[++i]=n,t[++i]=l}}(t)},p=120,f=180,m={r:255,g:165,b:0};class v extends n{lighted(t){return this}constructor(t,i=p,s=p,e=p){super(t,i,s,e)}litBackground(t,i){return t.setBackground(m.r*i,m.g*i,m.b*i),t}litColor(t,i){return t.setColor(m.r*i,m.g*i,m.b*i),t}}class b extends v{constructor(t){super(t,f,f,f)}}class w extends b{constructor(t,i,s,e){super(t),this.vr=i,this.vg=s,this.vb=e}lighted(t){let i=this.clone();return i.setColor(this.vr,this.vg,this.vb),i}}class x{constructor(t,i,s,e){this.x=t,this.y=i,this.w=s,this.h=e}move(t,i){this.x+=t,this.y+=i}}const y=function(t){return String.fromCharCode(t.charCodeAt(0)+1)},C=function(t){return Math.floor(Math.random()*t)},S=function(t,i,s){let e=Array(t),r=0;for(;r<t;){e[r]=new Array(i);let t=0;for(;t<i;)e[r][t]=s(r,t),t++;r++}return e},T=function(t){return Math.min.apply(Math,t)};class k{constructor(t,i){this.x=t,this.y=i}eq(t){return this.x===t.x&&this.y===t.y}nextTo(t){return Math.abs(this.x-t.x)<=1&&Math.abs(this.y-t.y)<=1}copy(){return new k(this.x,this.y)}add(t){return new k(this.x+t.x,this.y+t.y)}wrappers(){return k.dxy.map(t=>this.add(t))}}k.dxy=[new k(-1,-1),new k(0,-1),new k(1,-1),new k(-1,0),new k(1,0),new k(-1,1),new k(0,1),new k(1,1)];class A{constructor(t){this.map=t,this.width=t[0].length,this.height=t.length}at(t,i){return this.map[i][t]}}var R=s(2);const M=1;class E{constructor(t){this.prevAI=t}moveTo(t,i){const s=this.leePath(t,t=>i.eq(t));return s.length&&t.move(s[0]),!!s.length}followTo(t,i){const s=this.leePath(t,t=>i.nextTo(t));return s.length&&t.move(s[0]),!!s.length}leePath(t,i,s=!1){const e=t.stageMemory();let r=S(e.height,e.width,()=>void 0),h=[],o=[t.pos],a=0;for(;o.length&&!h.length;){let s=[];o.forEach(o=>{if(!e.inRange(o))return;const n=e.at(o.x,o.y);n.tangible(t)||void 0!==r[o.x][o.y]||(r[o.x][o.y]=a,i(o,n)?h.push(o):o.wrappers().forEach(t=>s.push(t)))}),a++,o=s}return h.length?s?this.buildRoad(Object(R.sample)(h),r):this.buildRoad(h[0],r):[]}buildRoad(t,i){let s=t,e=[s],r=void 0;for(;i[s.x][s.y]!==M;){if(!(r=k.dxy.find(t=>i[s.x+t.x]&&i[s.x+t.x][s.y+t.y]===i[s.x][s.y]-1)))return[];s=s.add(r),e.unshift(s)}return e}withinView(t,i){const s=t.stageMemory();let e=S(s.height,s.width,()=>!1),r=[t.pos];for(;r.length;){let t=[];r.forEach(r=>{if(!s.inRange(r))return;const h=s.at(r.x,r.y);h.visible&&!e[r.x][r.y]&&(e[r.x][r.y]=!0,i(r,h),r.wrappers().forEach(i=>t.push(i)))}),r=t}}}class I{constructor(t,i,s,e,r,h,o){this.startx=t,this.starty=i,this.radius=s,this.width=e,this.height=r,this.checkSolid=h,this.markVisible=o,this.doubleRadius=this.radius*this.radius}calc(){this.markVisible(this.startx,this.starty,1),this.checkSolid(this.startx,this.starty)||[[1,1],[1,-1],[-1,1],[-1,-1]].forEach(([t,i])=>{this.castLight(1,1,0,0,t,i,0),this.castLight(1,1,0,t,0,0,i)})}castLight(t,i,s,e,r,h,o){if(i<s)return;let a=0,n=!1;for(let l=t;l<=this.radius&&!n;l++){let t=-l;for(let c=-l;c<=0;c++){let u=Math.round(this.startx+c*e+t*r),d=Math.round(this.starty+c*h+t*o),g=(c-.5)/(t+.5),p=(c+.5)/(t-.5);if(u>=0&&d>=0&&u<this.width&&d<this.height&&!(i<p)){if(s>g)break;this.doubleDistance(c,t)<=this.doubleRadius&&this.markVisible(u,d,1-this.doubleDistance(c,t)/this.doubleRadius),n?this.checkSolid(u,d)?a=p:(n=!1,i=a):this.checkSolid(u,d)&&l<this.radius&&(n=!0,this.castLight(l+1,i,g,e,r,h,o),a=p)}}}}doubleDistance(t,i){return t*t+i*i}}var D,_,P;!function(t){t[t.Wall=0]="Wall",t[t.Door=1]="Door",t[t.Floor=2]="Floor"}(D||(D={}));class N{constructor(t,i,s){this.key=t,this.display=i,this.kind=s}static retrive(t){this.repository[t];switch(t){case"R":return new N("R"," ",D.Floor);case"C":return new N("C"," ",D.Floor);case"W":return new N("W","#",D.Wall);case"D":return new N("D","+",D.Door);default:throw`Tile '${t}' is not registered!`}}isDoor(){return this.kind===D.Door}isWall(){return this.kind===D.Wall}visibleThrough(){return this.kind===D.Floor}passibleThrough(t){return t&&this.creature?this.kind!==D.Wall&&this.creature.id===t.id:this.kind!==D.Wall&&!this.creature}clone(){let t=N.retrive(this.key);return this.creature&&(t.creature=this.creature.clone()),this.item&&(t.item=this.item.clone()),t}uniq(){return void 0!==this.creature}}N.repository={};class F extends A{constructor(t){super(t),this.creatures=[],this.id=F.getId()}static getId(){return this.lastId++}addCreature(t){this.creatures.push(t),this.at(t.pos.x,t.pos.y).creature=t}removeCreature(t){this.at(t.pos.x,t.pos.y).creature=void 0,Object(R.remove)(this.creatures,i=>i.id===t.id)}visibleThrough(t,i){return this.map[i][t].visibleThrough()}passibleThrough(t,i){return this.map[i][t].passibleThrough()}at(t,i){return this.map[i][t]}setTile(t,i,s){this.map[i][t]=s}inRange(t){return t.x>=0&&t.y>=0&&t.x<this.width&&t.y<this.height}turn(){this.creatures.forEach(t=>t.act(this)),this.creatures.forEach(t=>t.visionMask(this))}}F.lastId=0;class z{constructor(t){this.tile=t,this.visible=!1,this.degree=0,this.seen=!1}see(t,i){this.visible=!0,this.degree=i,this.seen=!0,this.tile=t.clone()}tangible(t){return this.seen&&!this.tile.passibleThrough(t)}creature(){return this.tile&&this.tile.creature}reset(){this.visible=!1,this.tile.creature=void 0}}class O extends A{constructor(t,i){const s=N.retrive("W");super(S(i,t,()=>new z(s)))}inRange(t){return t.x>=0&&t.y>=0&&t.x<this.width&&t.y<this.height}resetVisible(){this.map.forEach(t=>{t.forEach(t=>{t.reset()})})}}class B{constructor(t,i,s=B.getId()){this.id=s,this.pos=new k(t,i)}static getId(){return this.lastId++}clone(){return new B(this.pos.x,this.pos.y,this.id)}real(){return this.refToReal}}B.lastId=0;class L{constructor(t){this.damage=t}affect(t){return t.die(),P.DIE}}!function(t){t[t.Attack=0]="Attack"}(_||(_={})),function(t){t[t.DIE=0]="DIE"}(P||(P={}));class W extends B{constructor(t,i,s,e,r){super(t,i),this.radius=s,this.stageMemories={},this.previousPos=this.pos.copy(),this.currentLevel=e,this.visionMask(e),e.addCreature(this),this.ai=r}emit(t){switch(t){case _.Attack:return new L(10);default:throw`Unknow event type ${t} for ${this}`}}die(){this.currentLevel.removeCreature(this)}on(t){return t.affect(this)}real(){return this}stageMemory(t=this.currentLevel.id){return this.stageMemories[t]}act(t){this.visionMask(t),this.previousPos=this.pos.copy(),this.ai.act(this,!0),t.at(this.previousPos.x,this.previousPos.y).creature=void 0,t.at(this.pos.x,this.pos.y).creature=this}move(t){this.pos=t.copy()}clone(){let t=new B(this.pos.x,this.pos.y,this.id);return t.refToReal=this,t}visionMask(t){this.stageMemories[t.id]?this.stageMemory().resetVisible():this.stageMemories[t.id]=new O(t.width,t.height);new I(this.pos.x,this.pos.y,this.radius,t.width,t.height,this.isSolid(t),(i,s,e)=>{this.stageMemory().at(i,s).see(t.at(i,s),e)}).calc()}isSolid(t){return(i,s)=>!t.visibleThrough(i,s)&&!(t.at(i,s).isDoor()&&this.pos.x===i&&this.pos.y===s)}}class V extends E{available(t){return this.canAttack(t)}act(t,i=!0){if(this.victimSet()&&this.victimInAccess(t))this.attack(t);else{if(!i)throw"Attacker got called twice";this.findNewVictim(t),this.act(t,!1)}}attack(t){this.victim.on(t.emit(_.Attack))===P.DIE&&(this.victim=void 0)}canAttack(t){const i=t.stageMemory();return t.pos.wrappers().some(({x:t,y:s})=>void 0!==i.at(t,s).creature())}victimInAccess(t){const i=t.stageMemory();return t.pos.wrappers().some(({x:t,y:s})=>i.at(t,s).creature()&&i.at(t,s).creature().id===this.victim.id)}victimSet(){return void 0!==this.victim}updateVictimPosition(t){this.findCreature(t,t=>t.id===this.victim.id)}findNewVictim(t){this.findCreature(t,i=>i.id!==t.id)}findCreature(t,i){return this.withinView(t,({x:t,y:s},e)=>{const r=e.creature();if(r&&i(r))return this.victim=r.real(),!0}),!1}}class U extends E{available(t){return!0}act(t){this.victimSet()?(this.updateVictimPosition(t),this.chase(t)):this.foundNewVictim(t)?this.chase(t):this.victimPos&&this.moveTo(t,this.victimPos)&&this.victimPos.eq(t.pos)&&(this.victimPos=void 0),this.victimSet()&&this.caught(t)&&this.resetVictim()}victimSet(){return void 0!==this.victimId}updateVictimPosition(t){this.findCreature(t,t=>t.id===this.victimId)}chase(t){this.followTo(t,this.victimPos)}foundNewVictim(t){return this.findCreature(t,i=>i.id!==t.id)}caught(t){return t.pos.nextTo(this.victimPos)}resetVictim(){this.victimId=void 0}findCreature(t,i){return this.withinView(t,({x:t,y:s},e)=>{const r=e.creature();if(r&&i(r))return this.victimPos=new k(t,s),this.victimId=r.id,!0}),!1}}class $ extends E{constructor(){super(),this.events=[],this.escaper=new X(this),this.explorer=new q(this),this.chaser=new U(this),this.attacker=new V(this)}available(t){return!0}act(t,i=!0){if(!i)throw"Meta AI called recursively";this.feelsGood(t)?this.enemyClose(t)?this.attack(t):this.explore(t):this.enemyClose(t)?this.runAway(t):this.rest(t),this.events=[]}feelsGood(t){return!0}enemyClose(t){return this.escaper.available(t)}attack(t){this.attacker.available(t)?this.attacker.act(t):this.chaser.act(t)}explore(t){this.explorer.act(t)}runAway(t){this.escaper.act(t)}rest(t){}}const G=2;class X extends E{constructor(){super(...arguments),this.escapesFrom=[]}available(t){return this.foundEnemies(t)}act(t){this.foundEnemies(t)&&this.buildPath(t),this.runningTo?this.moveTo(t,this.runningTo)&&this.runningTo.eq(t.pos)&&(this.runningTo=void 0):t.ai=new j(this)}buildPath(t,i=t.radius/2){if(i<=1)return void(this.runningTo=void 0);const s=this.leePath(t,({x:t,y:s})=>{return Object(R.sumBy)(this.escapesFrom,i=>Math.max(Math.abs(t-i.pos.x),Math.abs(s-i.pos.y)))>=i},!0);s.length?this.runningTo=s.pop():this.buildPath(t,i-G)}foundEnemies(t){return this.escapesFrom=[],this.withinView(t,(i,s)=>{const e=s.creature();e&&e.id!==t.id&&this.escapesFrom.push(e)}),this.escapesFrom.length>0}}const Y=10;class q extends E{constructor(){super(...arguments),this.path=[],this.step=Y}available(t){return!!this.path.length||(this.buildNewPath(t),this.path.length>0)}act(t,i=!0){if(this.step>=Y&&this.updatePatrol(t),this.path.length){const s=this.path.shift();t.stageMemory().at(s.x,s.y).tangible(t)?(this.path=[],i&&this.act(t,!1)):(this.step++,t.move(s),this.shouldAddNode(t)&&this.updatePatrol(t))}else this.buildNewPath(t),this.path.length?i&&this.act(t,!1):this.patrol.available(t)?(this.patrol.addNode(t.pos.x,t.pos.y),t.ai=this.patrol,t.ai.act(t,!1)):t.ai=new j(this)}buildNewPath(t){this.path=this.leePath(t,i=>!t.stageMemory().at(i.x,i.y).seen)}updatePatrol(t){void 0===this.patrol?this.patrol=new Q(t.pos.x,t.pos.y):this.patrol.addNode(t.pos.x,t.pos.y),this.step=0}shouldAddNode(t){return t.stageMemory().at(t.previousPos.x,t.previousPos.y).tile.isDoor()}}class j extends E{constructor(){super(...arguments),this.turns=0}act(t,i=!0){if(this.turns>1)return t.ai=this.prevAI,void this.prevAI.act(t,!1);const s=this.leePath(t,i=>!t.pos.eq(i),!0);s.length&&(this.turns+=1,t.move(s[0]))}available(t){return!0}}var H,K,J=s(11);class Q extends E{constructor(t,i){super(),this.i="a",this.step=0,this.graph=new J.Graph,this.addNode(t,i,!1),this.lastNodeVisit={},this.markNodeVisited(this.currentNodeID),this.path=[]}available(t){return this.graph.nodes().length>1}act(t,i=!0){this.path.length?this.moveToTarget(t,i):(this.targetNodeID&&(this.markNodeVisited(this.targetNodeID),this.currentNodeID=this.targetNodeID),this.pickUpNewTarget(t),this.moveToTarget(t,i)),this.step+=1}addNode(t,i,s=!0){this.graph.setNode(this.i,new k(t,i)),s&&this.graph.setEdge(this.currentNodeID,this.i),this.currentNodeID=this.i,this.i=y(this.i)}buildNewPath(t){const i=this.graph.node(this.targetNodeID);this.path=this.leePath(t,t=>i.eq(t))}pickUpNewTarget(t){let i=this.graph.nodes()[0],s=this.lastNodeVisit[i];this.graph.neighbors(this.currentNodeID).forEach(t=>{s>(this.lastNodeVisit[t]||0)&&(i=t,s=this.lastNodeVisit[i])}),this.targetNodeID=i,this.buildNewPath(t)}moveToTarget(t,i){const s=this.path.shift();if(s)if(t.stageMemory().at(s.x,s.y).tangible()){if(this.buildNewPath,this.path.length)return this.act(t,!1);let i=new j(this);i.available(t)&&(t.ai=i,i.act(t))}else t.move(s);else t.ai=new j(this)}markNodeVisited(t){this.lastNodeVisit[t]=this.step}}!function(t){t[t.Armor=0]="Armor",t[t.Weapon=1]="Weapon"}(H||(H={})),function(t){t[t.Katana=0]="Katana"}(K||(K={}));class Z{constructor(t,i,s,e=Z.getId()){this.group=t,this.kind=i,this.name=s,this.id=e}static getId(){return this.lastId++}clone(){return new Z(this.group,this.kind,this.name)}}Z.lastId=0;class tt extends Z{constructor(t,i){super(H.Weapon,t,i)}}const it=new w("俺",0,255,0),st=new w("俺",255,0,0),et=new w("俺",0,0,255),rt=new w("俺",255,0,255),ht=new w("俺",0,255,255),ot=new class extends v{constructor(t,i,s,e){super(t),this.vr=i,this.vg=s,this.vb=e}lighted(t){let i=this.clone();return i.setColor(this.vr,this.vg,this.vb),i}}("刀",200,200,200),at=new class extends v{constructor(){super("戸")}lighted(t){let i=this.clone();return this.litColor(i,t),i.swapColors(),i}},nt=new class extends v{constructor(){super("＃")}lighted(t){let i=this.clone();return this.litBackground(i,t),i.backgroundToColor(),i}},lt=new class extends v{constructor(){super("・")}lighted(t){return this.litColor(this.clone(),t)}},ct=new n("　",0,0,0);var ut=e.a.extend({props:["level"],data(){return{term:null,eng:null,drawInterval:null,ts:Date.now(),fps:0,counter:0,interval:100,nextStep:!1,pause:!1,player:this.level.creatures[0]}},methods:{aiName(t){return t instanceof Q?"Patrol":t instanceof X?"Escaper":t instanceof U?"Chaser":t instanceof q?"Explorer":t instanceof class extends E{act(t){}available(t){return!0}}?"Waiter":t instanceof j?`Loiter (${this.aiName(t.prevAI)})`:t instanceof $?`Dispatcher (${this.aiName(t.prevAI)})`:void 0},getTile(t,i){const s=this.stage.at(t,i).tile;if(!s)return ct;if(s.creature)switch(s.creature.id%5){case 0:return ht;case 1:return rt;case 2:return et;case 3:return st;case 4:return it}if(s.item)switch(s.item.kind){case K.Katana:return ot}switch(s.display){case"#":return nt;case"+":return at;case" ":return lt;default:return ct}},initViewport(){this.term=new class{constructor(t,i,s,e,r=!1){this.elem=t,this.w=i,this.h=s,this.squarify=r,this.cx=Math.floor(i/2),this.cy=Math.floor(s/2),this.elem.innerHTML="",-1===t.className.indexOf(l)&&(0===t.className.length?t.className=l:t.className+=" "+l),this.buffer=new Array(s);for(let t=0;t<s;++t){this.buffer[t]=new Array(i);for(let s=0;s<i;++s)this.buffer[t][s]=c}this.renderer=e(this)}updateStyle(t){const i=window.getComputedStyle(this.elem,null);this.defaultColor=i.color||void 0,this.defaultBackground=i.backgroundColor||void 0,t&&this.renderer.updateStyle(i)}getRendererString(){return this.renderer.getRendererString()}put(t,i,s){i<0||s<0||i>=this.w||s>=this.h||(this.buffer[s][i]=t)}unsafePut(t,i,s){this.buffer[s][i]=t}putString(t,i,s,e,r,h,o,a,l){const c=t.length;if(!(i<0||s<0))for(let u=0;u<c;++u){if(i>=this.w&&(i=0,++s),s>=this.h)return;const c=new n(t[u],e,r,h,o,a,l);this.unsafePut(c,i,s),++i}}get(t,i){return t<0||i<0||t>=this.w||i>=this.h?c:this.buffer[i][t]}clear(){for(let t=0;t<this.h;++t)for(let i=0;i<this.w;++i)this.buffer[t][i]=c;this.renderer.clear()}render(){this.renderer.render()}}(this.$refs.scene,this.level.width,this.level.height,g,!0),this.eng=new class{constructor(t,i,s,e){this.viewport=t,this.tileFunc=i,this.w=s,this.h=e,this.refreshCache=!0,this.cacheEnabled=!1,this.transitionDuration=0,this.cachex=0,this.cachey=0,this.tileCache=new Array(t.h),this.tileCache2=new Array(t.h);for(let i=0;i<t.h;++i)this.tileCache[i]=new Array(t.w),this.tileCache2[i]=new Array(t.w)}setTileFunc(t,i,s){i&&(this.transition=void 0,"string"==typeof i&&("boxin"===i?this.transition=function(t,i,s,e,r,h,o){const a=.5*s,n=.5*e;return t-=a,i-=n,Math.abs(t)<a*o&&Math.abs(i)<n*o?r:h}:"boxout"===i?this.transition=function(t,i,s,e,r,h,o){const a=.5*s,n=.5*e;return t-=a,i-=n,o=1-o,Math.abs(t)<a*o&&Math.abs(i)<n*o?h:r}:"circlein"===i?this.transition=function(t,i,s,e,r,h,o){const a=.5*s,n=.5*e;return(t-=a)*t+(i-=n)*i<(a*a+n*n)*o?r:h}:"circleout"===i?this.transition=function(t,i,s,e,r,h,o){const a=.5*s,n=.5*e;return(t-=a)*t+(i-=n)*i>(a*a+n*n)*(o=1-o)?r:h}:"random"===i&&(this.transition=function(t,i,s,e,r,h,o){return Math.random()>o?h:r})),this.transition&&(this.transitionTimer=(new Date).getTime(),this.transitionDuration=s||500)),this.tileFunc=t}setMaskFunc(t){this.maskFunc=t}setShaderFunc(t){this.shaderFunc=t}setWorldSize(t,i){this.w=t,this.h=i}setCacheEnabled(t){this.cacheEnabled=t,this.refreshCache=!0}update(t,i){t=t||0,i=i||0;const s=t-this.viewport.cx,e=i-this.viewport.cy,r=(new Date).getTime();let h,o;this.transition&&this.transitionTimer&&(h=(r-this.transitionTimer)/this.transitionDuration),h&&h>=1&&(this.transition=void 0);for(let t=0;t<this.viewport.h;++t)for(let i=0;i<this.viewport.w;++i){const a=i+s,n=t+e;if(this.w&&(a<0||a>=this.w))o=c;else if(this.h&&(n<0||n>=this.w))o=c;else if(this.maskFunc&&!this.maskFunc(a,n))o=c;else if(this.transition&&!this.refreshCache)o=this.transition(i,t,this.viewport.w,this.viewport.h,this.tileFunc(a,n),this.tileCache[t][i],h||0);else if(this.cacheEnabled&&!this.refreshCache){const t=a-this.cachex,i=n-this.cachey;t>=0&&t<this.viewport.w&&i>=0&&i<this.viewport.h?(o=this.tileCache[i][t])===c&&(o=this.tileFunc(a,n)):o=this.tileFunc(a,n)}else o=this.tileFunc(a,n);this.tileCache2[t][i]=o,this.shaderFunc&&o!==c&&(o=this.shaderFunc(o,a,n,r)),this.viewport.unsafePut(o,i,t)}this.cachex=s,this.cachey=e;const a=this.tileCache;this.tileCache=this.tileCache2,this.tileCache2=a,this.refreshCache=!1}}(this.term,(t,i)=>this.getTile(t,i),this.level.width,this.level.height),this.eng.setMaskFunc((t,i)=>this.stage.at(t,i).seen),this.eng.setShaderFunc((t,i,s,e)=>this.lighting(t,i,s,e)),clearInterval(this.drawInterval),this.drawInterval=setInterval(()=>{this.drawScene()},this.interval)},drawScene(){if(this.done)return;const t=Date.now();this.ts+1e3<t&&(this.fps=this.counter,this.counter=0,this.ts=t),this.done=!0,this.pause&&!this.nextStep||(this.nextStep=!1,this.level.turn(),this.player=this.level.creatures[0]),this.eng.update(this.term.cx,this.term.cy),this.term.render(),this.done=!1,this.counter+=1},lighting(t,i,s,e){const r=this.stage.at(i,s);return r.visible&&t.lighted?t.lighted(r.degree):t}},computed:{stage(){return this.player.stageMemory(this.level.id)}},mounted(){this.initViewport()},beforeDestroy(){clearInterval(this.drawInterval)},watch:{level(){this.initViewport()},interval(){this.initViewport()}}});var dt=function(t){s(31)},gt=Object(h.a)(ut,function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"scene"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col mr-0"},[s("div",{ref:"scene",staticClass:"unicodetiles"})]),s("div",{staticClass:"col pl-0"},[s("div",{staticClass:"fps mb-2"},[t._v("FPS "+t._s(t.fps))]),t._l(t.level.creatures,function(i){return s("dl",{staticClass:"row small"},[s("dd",{staticClass:"col-sm-3"},[t._v("ID")]),s("dt",{staticClass:"col-sm-9"},[t._v(t._s(i.id))]),s("dd",{staticClass:"col-sm-3"},[t._v("POS")]),s("dt",{staticClass:"col-sm-9"},[t._v(t._s(i.pos))]),s("dd",{staticClass:"col-sm-3"},[t._v("AI")]),s("dt",{staticClass:"col-sm-9"},[t._v(t._s(t.aiName(i.ai)))])])}),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-sm-2"},[t._v("Map")]),s("div",{staticClass:"col-sm-10"},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.interval,expression:"interval"}],staticClass:"form-control",attrs:{id:"interval",type:"number"},domProps:{value:t.interval},on:{input:function(i){i.target.composing||(t.interval=i.target.value)}}}),s("label",{staticClass:"form-check-label",attrs:{for:"interval"}},[t._v("Tick interval")])]),s("button",{staticClass:"btn btn-secondary",on:{click:function(i){t.nextStep=!0}}},[t._v("Next step")]),t._v(" "),s("button",{staticClass:"btn btn-secondary",on:{click:function(i){t.pause=!t.pause}}},[t._v(t._s(t.pause?"Start":"Pause"))])])])],2)])])},[],!1,dt,null,null).exports;const pt=0,ft=function(){return N.retrive("R")},mt=function(){return N.retrive("C")},vt=function(){return N.retrive("W")},bt=function(t,i,s=5,e=5,r=3){const h=new class{constructor(t,i,s,e,r){this.maxX=t,this.maxY=i,this.minSize=s,this.maxSize=e,this.roomsCount=r;let h=[],o=0;for(;o<this.roomsCount;)h.push(this.generateRoom()),o+=1;this.rooms=this.normalize(this.fuzzifyRooms(h)),this.roads=this.buildRoads(this.rooms)}generateRoom(){return new wt(0,0,this.minSize+C(this.maxSize-this.minSize),this.minSize+C(this.maxSize-this.minSize))}fuzzifyRooms(t){let i=[t.shift()];for(;t.length;){let s=t.shift(),e=C(360)/180*Math.PI;const r=Math.cos(e),h=Math.sin(e);let o=0,a=0,n=0;for(;!i.every(t=>s.notCross(t));){let t=Math.round(o*r),i=Math.round(o*h);for(;o+=1,t=Math.round(o*r),i=Math.round(o*h),t===a&&i===n;);s.move(t-a,i-n),a=t,n=i}i.push(s)}return i}normalize(t){const i=T(t.map(t=>t.x))-1,s=T(t.map(t=>t.y))-1;return t.forEach(t=>{t.move(-i,-s)}),t.filter(t=>t.x+t.w<this.maxX&&t.y+t.h<this.maxY)}buildRoads(t){let i=t.map(t=>t.pointWithin()),s=[i.shift()],e=[];const r=function(t,i){return Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2)};for(;i.length;){let t=i.shift(),h=s[0],o=r(t,h);s.forEach(i=>{const s=r(i,t);s<o&&(h=i,o=s)}),s.push(t),e.push(new xt(t.x,t.y,h.x,h.y))}return e}}(t,i,s,e,r);let o=S(t,i,vt);for(let t=0;t<h.rooms.length;t++)h.rooms[t].add(o);for(let t=0;t<h.roads.length;t++)h.roads[t].add(o);return new F(o)};class wt extends x{notCross(t){return t.x-pt>this.x+this.w||t.y-pt>this.y+this.h||t.x+t.w<this.x-pt||t.y+t.h<this.y-pt}pointWithin(){return new k(this.x+1+C(this.w-1),this.y+1+C(this.h-1))}add(t){let i=0;for(;i<this.w;){let s=0;for(;s<this.h;)t[this.x+i][this.y+s]=ft(),s++;i++}}}class xt extends x{constructor(t,i,s,e){super(t,i,s,e),this.lined=t>=s&&i>=e||s>=t&&e>=i}add(t){let[i,s,e]=this.horizontalLine(),r=0;for(;r<e;)"W"===t[i+r][s].key&&(t[i+r][s]=mt()),r+=1;let[h,o,a]=this.verticallLine(),n=0;for(;n<a;)"W"===t[h][o+n].key&&(t[h][o+n]=mt()),n+=1}horizontalLine(){return this.lined?[Math.min(this.x,this.w),Math.max(this.y,this.h),Math.abs(this.w-this.x)]:[Math.min(this.x,this.w),Math.min(this.y,this.h),Math.abs(this.w-this.x)]}verticallLine(){return this.lined,[Math.min(this.x,this.w),Math.min(this.y,this.h),Math.abs(this.h-this.y)]}}var yt=e.a.extend({data:()=>({map:new F([[]]),radius:10,ts:Date.now(),generatorOptions:{addDoors:!1,minSize:5,maxSize:5,roomsCount:3}}),components:{Cell:a,Scene:gt},methods:{generateMap(){this.map=this.buildMap();let t=1,i=1;for(;!this.map.visibleThrough(t,i);)t<this.map.width-1?t+=1:(t=1,i+=1);for(new W(t,i,this.radius,this.map,new $),t=this.map.width-1,i=this.map.height-1;!this.map.visibleThrough(t,i);)t>1?t-=1:(t=this.map.width-1,i-=1);new W(t,i,this.radius,this.map,new $)},buildMap(){let t=bt(50,50,this.generatorOptions.minSize,this.generatorOptions.maxSize,this.generatorOptions.roomsCount);return this.generatorOptions.addDoors?function(t,i=(()=>!0)){for(let s=1;s<t.height-1;s++)for(let e=1;e<t.width;e++){const r=t.at(e,s),h=t.at(e,s-1),o=t.at(e,s+1),a=t.at(e-1,s),n=t.at(e+1,s);i()&&"C"===r.key&&"D"!==a.key&&"D"!==n.key&&"D"!==h.key&&"D"!==o.key&&("R"!==a.key&&"R"!==n.key&&"R"!==h.key&&"R"!==o.key||("W"===a.key&&"W"===n.key||"W"===h.key&&"W"===o.key)&&t.setTile(e,s,N.retrive("D")))}return t}(t):(t.at(3,3).item=new class extends tt{constructor(){super(K.Katana,"Katana")}},t)}},created(){this.generateMap()}});var Ct=function(t){s(35)},St=Object(h.a)(yt,function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"container",attrs:{id:"app"}},[s("Scene",{attrs:{level:t.map}}),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 mt-2"},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"radius"}},[t._v("Radius")]),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.radius,expression:"radius"}],staticClass:"form-control",attrs:{id:"radius",type:"number"},domProps:{value:t.radius},on:{input:function(i){i.target.composing||(t.radius=i.target.value)}}})])]),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-sm-2"},[t._v("Map")]),s("div",{staticClass:"col-sm-10"},[s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.generatorOptions.addDoors,expression:"generatorOptions.addDoors"}],staticClass:"form-check-input",attrs:{id:"doors",type:"checkbox"},domProps:{checked:Array.isArray(t.generatorOptions.addDoors)?t._i(t.generatorOptions.addDoors,null)>-1:t.generatorOptions.addDoors},on:{change:function(i){var s=t.generatorOptions.addDoors,e=i.target,r=!!e.checked;if(Array.isArray(s)){var h=t._i(s,null);e.checked?h<0&&t.$set(t.generatorOptions,"addDoors",s.concat([null])):h>-1&&t.$set(t.generatorOptions,"addDoors",s.slice(0,h).concat(s.slice(h+1)))}else t.$set(t.generatorOptions,"addDoors",r)}}}),s("label",{staticClass:"form-check-label",attrs:{for:"doors"}},[t._v("Add doors")])]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.generatorOptions.roomsCount,expression:"generatorOptions.roomsCount"}],staticClass:"form-control",attrs:{id:"roomsCount",type:"number"},domProps:{value:t.generatorOptions.roomsCount},on:{input:function(i){i.target.composing||t.$set(t.generatorOptions,"roomsCount",i.target.value)}}}),s("label",{staticClass:"form-check-label",attrs:{for:"roomsCount"}},[t._v("roomsCount")])]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.generatorOptions.minSize,expression:"generatorOptions.minSize"}],staticClass:"form-control",attrs:{id:"minSize",type:"number"},domProps:{value:t.generatorOptions.minSize},on:{input:function(i){i.target.composing||t.$set(t.generatorOptions,"minSize",i.target.value)}}}),s("label",{staticClass:"form-check-label",attrs:{for:"minSize"}},[t._v("minSize")])]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.generatorOptions.maxSize,expression:"generatorOptions.maxSize"}],staticClass:"form-control",attrs:{id:"maxSize",type:"number"},domProps:{value:t.generatorOptions.maxSize},on:{input:function(i){i.target.composing||t.$set(t.generatorOptions,"maxSize",i.target.value)}}}),s("label",{staticClass:"form-check-label",attrs:{for:"maxSize"}},[t._v("maxSize")])])])]),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-sm-10"},[s("button",{staticClass:"btn btn-primary",on:{click:function(i){t.generateMap()}}},[t._v("Rebuild!")])])])])])],1)},[],!1,Ct,null,null).exports;s(16),s(14);new e.a({el:"#app",render:t=>t(St)})},16:function(t,i,s){},31:function(t,i,s){},33:function(t,i,s){},35:function(t,i,s){},39:function(t,i,s){t.exports=s(12)}});
//# sourceMappingURL=main.adcf0164.js.map